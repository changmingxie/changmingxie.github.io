<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<meta name="keywords" content="tcc-transaction-server" />
	<meta name="description" content="tcc-transaction-server" />
	<!-- 网页标签标题 -->
	<title>tcc-transaction-server</title>
	<link rel="shortcut icon" href="/img/tcc_logo.png"/>
	<link rel="stylesheet" href="/build/blogDetail.css" />
</head>
<body>
	<div id="root"><div class="blog-detail-page" data-reactroot=""><header class="header-container header-container-normal"><div class="header-body"><a href="/zh-cn/index.html"><img class="logo" src="/img/tcc_colorful.png"/></a><div class="search search-normal"><span class="icon-search"></span></div><div class="header-menu"><img class="header-menu-toggle" src="/img/system/menu_gray.png"/><ul><li class="menu-item menu-item-normal"><span><a href="/zh-cn/index.html" target="_self">首页</a></span></li><li class="menu-item menu-item-normal"><div class="nav-container"><div class="word"><a>文档</a></div><ul class="sub-nav-container" style="width:220px"><li><a href="/zh-cn/docs/what-is-tcctransaction.html" target="_self">TCC文档</a></li><li><a href="/zh-cn/aggdocs/what-is-aggregateframework.html" target="_self">AGG文档</a></li></ul></div></li><li class="menu-item menu-item-normal menu-item-normal-active"><span><a href="/zh-cn/blog/index.html" target="_self">博客</a></span></li><li class="menu-item menu-item-normal"><span><a href="/zh-cn/community/index.html" target="_self">社区</a></span></li></ul></div></div></header><section class="blog-content markdown-body"><h1 id="tcc-transaction%E4%B9%8Bserver%E6%A8%A1%E5%BC%8F%E6%9E%B6%E6%9E%84%E5%88%86%E6%9E%90">TCC-TRANSACTION之server模式架构分析 <a class="header-anchor" href="#tcc-transaction%E4%B9%8Bserver%E6%A8%A1%E5%BC%8F%E6%9E%B6%E6%9E%84%E5%88%86%E6%9E%90">#</a></h1>
<p>如<a href="/zh-cn/blog/tcc-transaction-invoke.html">TCC-TRANSACTION调用流程</a>，我们了解了微服务调用中分布式事务是如何执行的。<br>
本文意在说明server模式的设计初衷、实现原理。
server模式的设计目标为，进一步降低对业务服务的侵入，同时简化1.x中的繁琐配置。归结到底主要是两大块，即<strong>事务存储</strong>和<strong>事务补偿</strong>。<br>
下图简单对比了1.x和2.x的业务服务的变化。<br>
<img src="/img/tcc/1x_2x_compare.jpg" alt="1x和2.x对比图">
从上图可以看出，2.x将1.x中的<strong>事务存储</strong>和<strong>事务补偿</strong>，挪到了<strong>tcc-server</strong>里面，原有的<strong>本地事务存储</strong>，改成了<strong>远程事务存储</strong>的方式。</p>
<ul>
<li>远程事务存储，对应实现类<strong>RemotingTransactionStorage</strong></li>
<li>tcc-server，对应服务源码<a href="https://github.com/changmingxie/tcc-transaction/tree/master-2.x/tcc-transaction-server">tcc-transaction-server</a></li>
</ul>
<p>后续待完善。。。</p>
</section><footer class="footer-container"><div class="footer-body"><div class="cols-container"><div class="col col-12"><h3>免责声明</h3><p>TCC-TRANSACTION是一款开源的微服务架构下的TCC型分布式事务解决方案，致力于提供高性能和简单易用的分布式事务服务。</p></div><div class="col col-6"><dl><dt>文档</dt><dd><a href="/zh-cn/docs/what-is-tcctransaction.html" target="_self">概览</a></dd><dd><a href="/zh-cn/docs/tutorial/quickstart.html" target="_self">快速开始</a></dd><dd><a href="/zh-cn/docs/tutorial/quickstart.html" target="_self">开发者指南</a></dd></dl></div><div class="col col-6"><dl><dt>资源</dt><dd><a href="/zh-cn/blog/index.html" target="_self">博客</a></dd><dd><a href="/zh-cn/community/index.html" target="_self">社区</a></dd></dl></div></div><div class="copyright"><span>Copyright © 2022 TCC-TRANSACTION</span></div></div></footer></div></div>
	<script src="https://f.alicdn.com/react/15.4.1/react-with-addons.min.js"></script>
	<script src="https://f.alicdn.com/react/15.4.1/react-dom.min.js"></script>
	<script>
		window.rootPath = '';
  </script>
	<script src="/build/blogDetail.js"></script>
</body>
</html>
